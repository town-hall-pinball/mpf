<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mpf.plugins.sound module &mdash; Mission Pinball Framework 0.15.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.15.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Mission Pinball Framework 0.15.1 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">Mission Pinball Framework 0.15.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-mpf.plugins.sound">
<span id="mpf-plugins-sound-module"></span><h1>mpf.plugins.sound module</h1>
<p>MPF plugin for sounds. Includes SoundController, Channel, Sound, Track, and
StreamTrack parent classes.</p>
<dl class="class">
<dt id="mpf.plugins.sound.Channel">
<em class="property">class </em><tt class="descclassname">mpf.plugins.sound.</tt><tt class="descname">Channel</tt><big>(</big><em>machine</em>, <em>parent_track</em>, <em>channel_number</em><big>)</big></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Parent class that holds a Pygame sound channel. One or more of these are
tied to an MPF Track.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>machine</strong> &#8211; The main machine object.</li>
<li><strong>parent_track</strong> &#8211; The MPF track object this channel belongs to.</li>
<li><strong>channel_number</strong> &#8211; Integer number that is used to identify this channel.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mpf.plugins.sound.Channel.play">
<tt class="descname">play</tt><big>(</big><em>sound</em>, <em>**settings</em><big>)</big></dt>
<dd><p>Plays a sound on this channel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sound</strong> &#8211; The sound object to play.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.Channel.sound_is_done">
<tt class="descname">sound_is_done</tt><big>(</big><big>)</big></dt>
<dd><p>Indicates that the sound that was playing on this channel is now
done.</p>
<p>This is the callback method that&#8217;s automatically called by Pygame. It
will check the queue and automatically play any queued sounds.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mpf.plugins.sound.Sound">
<em class="property">class </em><tt class="descclassname">mpf.plugins.sound.</tt><tt class="descname">Sound</tt><big>(</big><em>machine</em>, <em>config</em>, <em>file_name</em>, <em>asset_manager</em><big>)</big></dt>
<dd><p>Bases: <a class="reference internal" href="mpf.system.assets.html#mpf.system.assets.Asset" title="mpf.system.assets.Asset"><tt class="xref py py-class docutils literal"><span class="pre">mpf.system.assets.Asset</span></tt></a></p>
<dl class="method">
<dt id="mpf.plugins.sound.Sound.play">
<tt class="descname">play</tt><big>(</big><em>loops=0</em>, <em>priority=0</em>, <em>fade_in=0</em>, <em>volume=1</em>, <em>**kwargs</em><big>)</big></dt>
<dd><p>Plays this sound.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>loops</strong> &#8211; Integer of how many times you&#8217;d like this sound to repeat.
A value of -1 means it will loop forever.</li>
<li><strong>priority</strong> &#8211; The relative priority of this sound which controls what
happens if the track this sound is playing on is playing the
max simultaneous sounds.</li>
<li><strong>fade_in</strong> &#8211; MPF time string for how long this sound should fade in
when it starts.</li>
<li><strong>volume</strong> &#8211; <p>Volume for this sound as a float between 0.0 and 1.0. Zero
is mute, 1 is full volume, anything in between is in between.</p>
<blockquote>
<div>callback which could include random kwargs.</div></blockquote>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.Sound.stop">
<tt class="descname">stop</tt><big>(</big><em>fade_out=0</em>, <em>reset=True</em>, <em>**kwargs</em><big>)</big></dt>
<dd><p>Stops this sound playing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fade_out</strong> &#8211; MPF time string for how long this sound will fade out as
it stops.</li>
<li><strong>reset</strong> &#8211; <p>Boolean for whether this sound should reset its playback
position to the beginning. Default is True.</p>
<blockquote>
<div>callback which could include random kwargs.</div></blockquote>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mpf.plugins.sound.SoundController">
<em class="property">class </em><tt class="descclassname">mpf.plugins.sound.</tt><tt class="descname">SoundController</tt><big>(</big><em>machine</em><big>)</big></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Parent class for the sound controller which is responsible for all audio,
sounds, and music in the machine. There is only one of these per machine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>machine</strong> &#8211; The main machine controller object.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mpf.plugins.sound.SoundController.create_track">
<tt class="descname">create_track</tt><big>(</big><em>name</em>, <em>config=None</em><big>)</big></dt>
<dd><p>Creates a new MPF track add registers in the central track list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; String name of this track used for identifying where sounds
are played.</li>
<li><strong>config</strong> &#8211; Config dictionary for this track.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Note: &#8220;Tracks&#8221; in MPF are like channels.. you might have a &#8220;music&#8221;
track, a &#8220;voice&#8221; track, a &#8220;sound effects&#8221; track, etc.</p>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.SoundController.get_volume">
<tt class="descname">get_volume</tt><big>(</big><big>)</big></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.SoundController.register_sound_event">
<tt class="descname">register_sound_event</tt><big>(</big><em>config</em>, <em>priority=0</em>, <em>block=False</em><big>)</big></dt>
<dd><p>Sets up game sounds from the config file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> &#8211; Python dictionary which contains the game sounds settings.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.SoundController.register_sound_events">
<tt class="descname">register_sound_events</tt><big>(</big><em>config</em>, <em>mode=None</em>, <em>priority=0</em><big>)</big></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.SoundController.set_volume">
<tt class="descname">set_volume</tt><big>(</big><em>volume=None</em>, <em>change=None</em>, <em>**kwargs</em><big>)</big></dt>
<dd><p>Sets the overall volume of the sound system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>volume</strong> &#8211; The new volume level, a floating point value between 0.0
and 1.0. 1.0 is full volume. 0.0 is mute.</li>
<li><strong>change</strong> &#8211; A positive or negative value between 0.0 and 1.0 of a
change in volume that will be made.</li>
<li><strong>kwargs</strong> &#8211; Not used here. Included because this method is often
called from events which might contain additional kwargs.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Note that the volume can never be increased above 1.0. This sound
volume level only affects MPF. You might have to set the overall
system sound to in the OS.</p>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.SoundController.unregister_sound_event">
<tt class="descname">unregister_sound_event</tt><big>(</big><em>key</em><big>)</big></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.SoundController.unregister_sound_events">
<tt class="descname">unregister_sound_events</tt><big>(</big><em>key_list</em><big>)</big></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mpf.plugins.sound.StreamTrack">
<em class="property">class </em><tt class="descclassname">mpf.plugins.sound.</tt><tt class="descname">StreamTrack</tt><big>(</big><em>machine</em>, <em>config</em><big>)</big></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Parent class for MPF&#8217;s &#8220;Stream&#8221; track which corresponds to Pygame&#8217;s
music channel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>machine</strong> &#8211; The main machine object.</li>
<li><strong>config</strong> &#8211; Python dictionary containing the configuration settings for
this track.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Sounds played on this track are streamed from disk rather than loaded into
memory. This is good for background music since those files can be large
and there&#8217;s only one playing at a time.</p>
<dl class="method">
<dt id="mpf.plugins.sound.StreamTrack.fadeout">
<tt class="descname">fadeout</tt><big>(</big><em>ms</em><big>)</big></dt>
<dd><p>Fades the sound out.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ms</strong> &#8211; The number of milliseconds to fade out the sound.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.StreamTrack.pause">
<tt class="descname">pause</tt><big>(</big><big>)</big></dt>
<dd><p>Pauses the current sound and remembers the current position so
playback can be resumed from the same point via the unpause() method.</p>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.StreamTrack.play">
<tt class="descname">play</tt><big>(</big><em>sound</em>, <em>**settings</em><big>)</big></dt>
<dd><p>Plays a sound on this track.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sound</strong> &#8211; The MPF sound object to play.</td>
</tr>
</tbody>
</table>
<p>This stream track only supports playing one sound at a time, so if
you call this when a sound is currently playing, the new sound will
stop the current sound.</p>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.StreamTrack.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big></dt>
<dd><p>Stops the playing sound and resets the current position to the
beginning.</p>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.StreamTrack.unpause">
<tt class="descname">unpause</tt><big>(</big><big>)</big></dt>
<dd><p>Resumes playing of a previously-paused sound. If the sound was not
paused, it starts playing it from the beginning.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mpf.plugins.sound.Track">
<em class="property">class </em><tt class="descclassname">mpf.plugins.sound.</tt><tt class="descname">Track</tt><big>(</big><em>machine</em>, <em>name</em>, <em>global_channel_list</em>, <em>config</em><big>)</big></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Parent class for an MPF track. Each sound track in MPF can be made up
of one or more Pygame sound channels to support multiple simultaneous
sounds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>machine</strong> &#8211; The main machine controller object.</li>
<li><strong>name</strong> &#8211; A string of the name this channel will be referred to, such as
&#8220;voice&#8221; or &#8220;sfx.&#8221;</li>
<li><strong>global_channel_list</strong> &#8211; A python list which keeps track of the global
Pygame channels in use.</li>
<li><strong>config</strong> &#8211; A python dictionary containing the configuration settings for
this track.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mpf.plugins.sound.Track.create_channel">
<tt class="descname">create_channel</tt><big>(</big><em>machine</em>, <em>global_channel_list</em><big>)</big></dt>
<dd><p>Factory method which creates a Pygame sound channel to be used with
this track.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>machine</strong> &#8211; The main machine object.</li>
<li><strong>global_channel_list</strong> &#8211; A list which contains the global list of
Pygame channels in use by MPF.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.Track.get_sound">
<tt class="descname">get_sound</tt><big>(</big><big>)</big></dt>
<dd><p>Returns the next sound from the queue to be played.</p>
<dl class="docutils">
<dt>Returns: A tuple of the sound object, the priority, and dictionary of</dt>
<dd>additional settings for that sound. If the queue is empty, returns
None.</dd>
</dl>
<p>This method will ensure that the sound returned has not expired. If the
next sound in the queue is expired, it removes it and returns the next
one.</p>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.Track.play">
<tt class="descname">play</tt><big>(</big><em>sound</em>, <em>priority</em>, <em>**settings</em><big>)</big></dt>
<dd><p>Plays a sound on this track.</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd>sound: The MPF sound object you want to play.
priority: The relative priority of this sound.
<a href="#id1"><span class="problematic" id="id2">**</span></a>settings: One or more additional settings for this playback.</dd>
</dl>
</div></blockquote>
<p>This method will automatically find an available Pygame channel to use.</p>
<p>If this new sound has a higher priority than the lowest playing sound,
it will interrupt that sound to play. Otherwise it will be added to the
queue to be played when a channel becomes available.</p>
</dd></dl>

<dl class="method">
<dt id="mpf.plugins.sound.Track.queue_sound">
<tt class="descname">queue_sound</tt><big>(</big><em>sound</em>, <em>priority</em>, <em>exp_time=None</em>, <em>**settings</em><big>)</big></dt>
<dd><p>Adds a sound to the queue to be played when a Pygame channel becomes
free.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sound</strong> &#8211; The MPF sound object.</li>
<li><strong>priority</strong> &#8211; The priority of this sound.</li>
<li><strong>exp_time</strong> &#8211; Real world time of when this sound will expire. (It will
not play if the queue is freed up after it expires.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Note that this method will insert this sound into a position in the
queue based on its priority, so highest-priority sounds are played
first.</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="mpf.plugins.sound.asset_class">
<tt class="descclassname">mpf.plugins.sound.</tt><tt class="descname">asset_class</tt></dt>
<dd><p>alias of <a class="reference internal" href="#mpf.plugins.sound.Sound" title="mpf.plugins.sound.Sound"><tt class="xref py py-class docutils literal"><span class="pre">Sound</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="mpf.plugins.sound.preload_check">
<tt class="descclassname">mpf.plugins.sound.</tt><tt class="descname">preload_check</tt><big>(</big><em>machine</em><big>)</big></dt>
<dd></dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/mpf.plugins.sound.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">Mission Pinball Framework 0.15.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Brian Madden, Gabe Knuth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>